{% extends "ApplicationCMSBundle::layout.html.twig" %}

{% block title %}{% if page.metaData.title %}{{page.metaData.title|raw}}{% else %}{{ parent() }}{% endif %}{% endblock title %}

{% block meta_data %}
    {#render metadata #}
    {% if page.metaData.description %}
        <meta name="description" content="{{page.metaData.description}}" />
    {% endif %}
    {% if page.metaData.keywords %}
        <meta name="keywords" content="{{page.metaData.keywords}}" />
    {% endif %}
    {{ parent() }}
{% endblock meta_data %}

{% block content %}
    {{page.content|raw}}
{% endblock content %}


{% block header %}
    {{_self.showArea(bm.getHeader)}}
{% endblock header %}

{% block left %}
    {{_self.showArea(bm.getLeft)}}
{% endblock left %}

{% block top_content %}
    {{_self.showArea(bm.getTop)}}
{% endblock top_content %}

{% block bottom_content %}
    {{_self.showArea(bm.getBottom)}}
{% endblock bottom_content %}

{% block right %}
    {{_self.showArea(bm.getRight)}}
{% endblock right %}

{% block footer %}
    {{_self.showArea(bm.getFooter)}}
{% endblock footer %}

{% macro showArea(blocks) %}
   {{render(controller('ApplicationCMSBundle:Page:blocks', {'blocks': blocks}))}}
{% endmacro %}